<#include "/tpl/common/_master.html" />
<#include "/tpl/parameter/_table.html" />

<#macro customBody>
    <div class="top-offset">
        <div class="grid fluid">
            <div class="row">
                <div class="span3">
                    <div class="sidebar sticky-sidebar">
                        <ul>
                            <li class="title">Control Panel</li>
                            <li><a id="create_testsuite" href="#">Create Test Suite</a></li>
                        </ul>
                    </div>
                </div>
                <div class="span9">
                    <div class="panel">
                        <div class="panel-header bg-lightBlue fg-white">Test Suite List</div>
                        <div class="panel-content">
                            <table id="testsuite_table" class="table hovered">
                                <thead>
                                <tr>
                                    <th class="text-left">Name</th>
                                    <!-- <th class="text-left">Last Execution Result (todo)</th> -->
                                    <th class="text-left">Custom Parameters</th>
                                    <th class="text-left">Actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                <#list testsuiteList as testsuite>
                                    <tr>
                                        <td class="span2"><a href="${CPATH}/testsuite/detail/${testsuite.getId()}">${testsuite.getName()}</a></td>
                                        <!-- <td><a href="${CPATH}/testsuite/detail/${testsuite.getId()}">Total(Pass/Fail/Skip/Unknown) ExecutionDate</a></td> -->
                                        <td class="span7"><a class="icon-pencil span1" data-id="${testsuite.getId()}" title="Edit JVM Options"/><a class="span11 code">~>java [commands] ${testsuite.getJvmOptionsAsString()}</a></td>
                                        <td class="span3">
                                            <a class="button primary" href="${CPATH}/execution/createByTestSuite/${testsuite.getId()}">Execute</a>
                                            <a class="button danger" href="${CPATH}/testsuite/delete/${testsuite.getId()}"><i class="icon-remove"></i> Delete</a>
                                        </td>
                                    </tr>
                                </#list>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</#macro>

<#macro customJavascript>
    <script id="create_testsuite_form_tpl" type="text/x-dot-template">
        <form action="${CPATH}/testsuite/create" method="post">
            <label>Name</label>
            <div class="input-control text">
                <input name="name" type="text">
            </div>
            <input class="button primary" type="submit" value="Create">
        </form>
    </script>
    <script id="edit_testsuite_jvm_parameter_form_tpl" type="text/x-dot-template">
        <form action="${CPATH}/testsuite/updateJvmOptions" method="post">
            <@parameterTable/>
            <input class="button primary" type="submit" value="Save">
        </form>
		<script type="text/javascript">
    		$(document).ready(function(){
        		$(".addPara").click(function(){
            		$("#customFields tbody").append('
        				<tr class="text">
        					<td class="span4"><input type="text" name="customFieldName" value="" placeholder="Input Name" /> </td>
        					<td class="span4"><input type="text" name="customFieldValue" value="" placeholder="Input Value" /> </td>
        					<!-- <td class="span2"><select name="customFieldType" value="">
            					<option>JVM</option>
            					<option>TestNG</option>
        						</select></td> -->
							<td><a href="#" class="remPara icon-remove"></a></td>
						</tr>');
        		});
        		$("#customFields").on('click','.remPara',function(){
            		$(this).parent().parent().remove();
        		});
    		});
    	</script>
    </script>
    <script src="${CPATH}/js/doT.js" type="text/javascript"></script>
    <script src="${CPATH}/js/testsuite.js" type="text/javascript"></script>
</#macro>

<#macro blankParameterRow>
</#macro>

<@master/>