<#include "/tpl/common/_master.html" />
<#include "/tpl/testcase/_table.html" />
<#include "/tpl/parameter/_row.html" />

<#macro customBody>
    <input id="current_testsuite_id" type="hidden" value="${testsuite.getId()}">
    <div class="top-offset">
        <div class="container fluid grid">
            <h1>
                <a href="${CPATH}/testsuite"><i class="icon-arrow-left-3 fg-darker smaller"></i></a>
                Test Suite<small class="on-right fg-lightBlue">${testsuite.getName()}</small>
            </h1>
            <div class="row">
                <div class="span12">
                    <div class="panel" data-role="panel">
                        <div class="panel-header bg-lightBlue fg-white">Passrate</div>
                        <div class="panel-content">
                            <div class="row">
                                <div class="span12">
                                    <div id="passrate_chart_container" class="container grid fluid">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="span12">
                    <div class="panel" data-role="panel">
                        <div class="panel-header bg-lightBlue fg-white">Custom Parameters</div>
                        <div class="panel-content">
                            <form id="update_custom_params" action="${CPATH}/testsuite/updateJvmOptions" method="post">
                                <input type="hidden" name="test_suite_id" value="${testsuite.getId()}">
                                <div id="custom_params" class="grid fluid">
                                <#list customParameterList as customParameter>
                                    <@parameterRow paramKey=customParameter.getKey() paramValue=customParameter.getValue() />
                                </#list>
                                </div>
                                <div class="form-actions">
                                    <input class="button primary" type="submit" value="Save">
                                    <button class="button default addPara">Add Parameter</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="span12">
                <@table showCheckbox="false" />
                </div>
            </div>
        </div>
    </div>
</#macro>

<#macro additionalThs>
    <th class="text-left"></th>
</#macro>

<#macro additionalTds>
    <td>
        <!--<span data-id="${testsuite.getId()}" data-name="${testCase.getName()}" class="remove-from-testsuite" title="Remove from Suite">-->
            <a class="button danger" href="${CPATH}/testsuite/removeCaseFromSuite?testsuiteId=${testsuite.getId()}&testcaseName=${testCase.getHtmlEncodedName()}">Remove</a>
        <!--</span>-->
    </td>
</#macro>

<#macro customJavascript>
    <script id="custom_parameter_row_tpl" type="text/x-dot-template">
        <@parameterRow/>
    </script>
    <script src="${CPATH}/highcharts/highcharts.js" type="text/javascript"></script>
    <script src="${CPATH}/js/doT.js" type="text/javascript"></script>
    <script src="${CPATH}/js/testSuiteDetail.js" type="text/javascript"></script>
</#macro>

<@master/>